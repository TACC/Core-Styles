@import url("../objects/o-section.selectors.css");
@import url("../tools/selectors.css");

@import url("./c-button.selectors.css");
@import url("./c-card.selectors.css");





/* Settings */

:root {
    --global-space--pattern-pad: 30px;
    --global-space--unnamed: 50px;
}





/* Skin */
/* NOTE: Design text color discrepencyâ€¦ text color should match that of body */



/* Modifiers */

/* Modifiers: Plain  */

:--c-card--plain-hr-top {
    border-top: 1px solid var(--global-color-primary--dark); /* mimic <hr> */
    margin-top: var(--global-space--hr-buffer-below); /* mimic <hr> */
}
:--c-card--plain-hr-bottom {
    border-bottom: 1px solid var(--global-color-primary--dark); /* mimic <hr> */
    margin-bottom: var(--global-space--hr-buffer-below); /* mimic <hr> */
}

/* Modifiers: Standard  */

:--c-card--standard-N,
:--c-card--standard {
    border-top-style: solid;
    border-top-width: var(--global-border-width--xx-thick);
}

/* Modifiers: Plain & Standard & within Section */

/* Default (On Light) */
:--c-card--standard-1,
:--c-card--standard,
:--c-card--plain {
    background-color: var(--global-color-primary--x-light);
    border-top-color: var(--global-color-accent--tertiary);
}
:--c-card--standard-N,
:--c-card--standard,
:--c-card--plain {
    box-shadow: 0px 3px 6px #0003;
}

/* On Muted & Within Card */
:--c-card--standard-2,
:--o-section--muted :--c-card--standard,
:--o-section--muted :--c-card--plain,
:--c-card :--c-card--standard,
:--c-card :--c-card--plain {
    background-color: var(--global-color-primary--xx-light);
}
:--c-card--standard-2,
:--o-section--muted :--c-card--standard,
:--c-card :--c-card--standard {
    border-top-color: var(--global-color-accent--tertiary);
}

/* On Muted + Within Card & On Dark + Within Card */
:--o-section--muted :--c-card :--c-card--plain,
:--o-section--muted :--c-card :--c-card--standard,
:--o-section--dark :--c-card :--c-card--plain,
:--o-section--dark :--c-card :--c-card--standard {
    background-color: var(--global-color-primary--x-light);
}

/* On Dark */
:--c-card--standard-3,
:--o-section--dark :--c-card--standard,
:--o-section--dark :--c-card--plain {
    background-color: var(--global-color-primary--xx-light);
    border-top-color: var(--global-color-accent--secondary);
}
/* To color text with greater specificity than .o-section does */
:--o-section--dark :--c-card--plain > *:not(a, button),
:--o-section--dark :--c-card--standard > *:not(a, button),
:--o-section--dark :--c-card--standard-N > *:not(a, button) {
    color: var(--global-color-primary--xx-dark);
}





/* Structure */

/* Elements */

:--c-card > a:not(:--c-button), :--c-card > p > a:only-child:not(:--c-button) {
    display: flex;
}
:--c-card > :is(:--action) {
    vertical-align: middle;

    margin-bottom: 2rem; /* mimic <p> `margin-bottom` */
    margin-right: var(--global-space--pattern-pad);
}

/* Block */
:--c-card {
    padding-inline: var(--global-space--pattern-pad);
    padding-top: var(--global-space--pattern-pad);
    /* FAQ: Let child elements' margin-bottom be the padding bottom */
    padding-bottom: 0.1px; /* to remove padding, but retain child margin */

    margin-bottom: var(--global-space--bootstrap-gap);
}



/* XXX: Commented out cuz it seems like an exception or the wrong solution */
/*
/* To tweak full-width children *//*
/* - To add space  *//*
.col:nth-child(4):last-child :--c-card--standard,
.col:nth-child(4):last-child :--c-card--standard-N {
    margin-top: var(--global-space--unnamed);
}
/* - To remove border *//*
.col:nth-child(4):last-child > :--c-card--standard,
.col:nth-child(4):last-child > :--c-card--standard-N {
    border-top: none;
}
*/



/* To add space between rows of boxes */
/* XXX: Commented out until we know whether we want context-based spacing */
/*
:--c-card--standard:not( .col:only-child > * )
:--c-card--standard-N:not( .col:only-child > * ) {
    margin-bottom: var(--global-space--bootstrap-gap);
}
/* To eat the margin-bottom of bottom row of blocks so padding is consistent *\/
:--c-card--standard:has( .row:last-child:not(:first-child) ),
:--c-card--standard-N:has( .row:last-child:not(:first-child) ) {
    padding-bottom: calc(
       var(--global-space--pattern-pad) - var(--global-space--bootstrap-gap)
    );
}
*/





/* Elements */

/* To remove undesired space */
:--c-card :is(h1, h2, h3, h4, h5, h6) {
    margin-top: unset;
}

/* To reduce font size of mailto link */
:--c-card a[data-user][data-domain]::before {
    font-size: var(--global-font-size--medium);
}

/* To space out address lines, but retain <p> margin */
/* NOTE: Likely in tacc.utexas.edu/about/contact/ but replaced with a <p> */
:--c-card > address {
    line-height: 1.7;
    margin-bottom: 2rem; /* to mimic <p> */
}

/* Elements: Lists */

:--c-card ul {
    /* list-style: none; *//* H.P. restored bullets, M.S. does not know */
    padding-left: 1em; /* overwrite core-styles.cms */
}
/* To add space between line items */
/* FAQ: Using margin and li:not(:first-of-type) because of multi-line items */
:--c-card li:not(:first-of-type) {
    margin-top: 0.5em;
}
:--c-card ul:last-child {
    margin-bottom: 2rem;
}




/* Image */

:--c-card--image {
    display: grid;
}

:--c-card--image-top {
    padding-top: 0;
}
:--c-card--image-left {
    padding-left: 0;
    padding-bottom: var(--global-space--pattern-pad);
}
:--c-card--image-right {
    padding-right: 0;
    padding-bottom: var(--global-space--pattern-pad);
}
:--c-card--image-bottom {
    padding-bottom: 0;
}



/* Image: Left & Right */

:--c-card--image-left,
:--c-card--image-right {
    --image-width: 50%;

    grid-column-gap: var(--global-space--pattern-pad);

    /* Repeat many times, because element count is unknown */
    grid-template-rows: repeat(10, min-content);
}
:--c-card--image-left > img,
:--c-card--image-right > img {
    grid-row-start: 1;
    grid-row-end: -1;

    /* To remove card padding */
    margin-block: calc( -1 * var(--global-space--pattern-pad) );
}

:--c-card--image-left {
    grid-template-columns: var(--image-width) 1fr; /* to overwrite `.c-card` */
}
:--c-card--image-left > img {
    grid-column-start: 1;
    grid-column-end: span 1;
}

:--c-card--image-right {
    grid-template-columns: 1fr var(--image-width); /* to overwrite `.c-card` */
}
:--c-card--image-right > img {
    grid-column-start: 2;
    grid-column-end: span 1;
}



/* Image: Top & Bottom */

:--c-card--image-top,
:--c-card--image-bottom {
    --image-height: auto;
    --global-space--pattern-pad: 15px;

    /* Use extra columns to add horizontal padding */
    grid-template-columns: var(--global-space--pattern-pad) 1fr var(--global-space--pattern-pad);
    padding-inline: unset;
}
:--c-card--image-top > :not(img),
:--c-card--image-bottom > :not(img) {
    /* Span only columns for content */
    grid-column-start: 2;
    grid-column-end: -2;
}
:--c-card--image-top > img,
:--c-card--image-bottom > img {
    /* Span all columns, padding and content */
    grid-column-start: 1;
    grid-column-end: -1;
}

:--c-card--image-top {
    /* Repeat many times, because element count is unknown */
    grid-template-rows: repeat(10, min-content) var(--image-height);
}
:--c-card--image-top > img {
    grid-row-start: 1;
    margin-bottom: var(--global-space--pattern-pad);
}
:--c-card--image-bottom > :is(h1, h2, h3, h4, h5):first-of-type {
    margin-top: unset; /* to avoid combining margin with image */
}

:--c-card--image-bottom {
    /* Repeat many times, because element count is unknown */
    grid-template-rows: var(--image-height) repeat(10, min-content);
}
:--c-card--image-bottom > img {
    grid-row-end: -1;
    margin-top: var(--global-space--pattern-pad);
}
:--c-card--image-bottom > p:last-of-type {
    margin-bottom: unset; /* to avoid combining margin with image */
}
